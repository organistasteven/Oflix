# E04

## Merise

on a 3 sch√©mas :

* MCD : Conceptuel
* MLD : Logique
* MPD : Physique

## Mod√®le Conceptuel de Donn√©e

√©tape de conception d'une base de donn√©e.

l'objetif de ce MCD c'est de communiquer avec notre client.
Notre client n'est pas technique, note sch√©ma doit √™tre tourner vers le client.

il **NE DOIT PAS Y AVOIR DE ID** dans un MCD

ID est un terme technique pour d√©signer quelquechose d'unique qui est associ√© √† un concept (personne, voiture, un livre)
Un identifiant peut prendre plein de forme (N¬∞ s√©cu, IBAN, GUID, Plaque num√©ralogique, ISBN, entier ...)

on ne parle pas de table : ce sont des entit√©s.

on ne parle pas de colonne : on parle d'attribut

Dans un MCD on va d√©crire les relations entre les entit√©s.
En d√©crivant les relations, on va utiliser:

* un verbe
* deux cardinalit√©s (une de chaque cot√©)
  * une cardinalit√© est repr√©sent√© avec deux valeurs:
    * la valeur minimale
    * la valeur maximale

Entite#1 (0,1) <-- verbe --> (1,N) Entite#2

Le N dans une cardinalit√© max repr√©sente une infinit√© de relation

Mon Entite#1 <verbe> est poss√©d√© par <cardinalit√©_min> 0 ou <cardinalit√©_max> 1 Entite#2
Mon Entite#2 <verbe> poss√®de <cardinalit√©_min> 1 ou <cardinalit√©_max> N (infini) Entite#1

merci Alexis
un livre est poss√©d√© par un biblioth√©quaire , un blblioth√©quaire possede n livre

Pour faire un MCD, un papier et un crayon suffit.
c'est plus compliqu√© √† distance, on utilise donc un outil en ligne: [MoCoDo](https://www.mocodo.net/)

### mocodo

Rappel de syntaxe MoCoDo
D√©finir une entit√©
`Entit√© A: attribut 1, attribut 2, ...`

D√©finir une association/relation
`Association 1, 01 Entit√© A, 1N Entit√© B, ... : attribut 1, attribut 2, ...`

#### Etape 1 : Entit√©s

D√©finir les entit√©s (sans relations).
Identifier les attributs possibles de chaque entit√©.

#### Etape 2 : Relations

Ecrire les relations qui existent entre les entit√©s.

#### Etape 3 : Cardinalit√©s

Pr√©ciser les cardinalit√©s de chaque c√¥t√© de la relation.

## Mod√®le Logique de Donn√©e

Ce sch√©ma est l√† pour r√©fl√©chir uniquement aux relations entre les entit√©s.
Il est g√©n√©ralement fait de t√™te.
Il est plus technique que le MCD, il doit √™tre fournit aux dev/dba, mais pas au client

Il existe 3 types de relations :

* la relation 1,N (ce sont les deux cardinalit√©s max d'une relation)
* la relation N,N
  * sans informations suppl√©mentaires
  * avec informations suppl√©mentaires

### relation 1,N

c'est la plus simple, la r√®gle a appliquer est :

La cl√© primaire du l'entit√© avec le N, se retrouve en cl√© √©trang√®re dans l'entit√© avec le 1

Un moyen mn√©motechnique de me souvenir o√π va √™tre la cl√© √©trang√®re :
Les cl√©s primaires voyagent ‚úà et elles veulent aller dans le plus d'autres pays (entit√©) possible.
Donc les cl√©s primaires voyagent depuis la'entit√© avec la cardinalit√© maximum N vers l'autre entit√©.
La cl√© primaire de `Biblioth√©quaire` voyage donc vers la table `Livre`, et devient une cl√© √©trang√®re dans cette entit√©.

### relation N,N

On tente d'appliquer la m√™me r√®gle

Repronnons l'id√©e du voyage :

les cl√©s primaires voyagent, se rencontrent sur le chemin, tombent amoureuses üíò, et fondent une nouvelle entit√©. Awwwn ü§ó
Cette nouvelle entit√© s'appelera une table pivot.

Si on prend ce MCD
Article (0,N) <-- verbe --> (0,N) Categorie

le MLD sera:
Article (0,N) <-- verbe --> (0,1) Article_Categorie (0,1) <-- verbe --> (0,N) Categorie

√† partir de l√† on applique la r√®gle 1,N
Donc un a dans l'entit√© `Article_Categorie` les cl√©s √©trang√®res dans deux tables

exemple :
Article#1 : Categorie#45, Categorie#78
Article#2 : Categorie#78

Article_Categorie :

* Article#1, Categorie#45
* Article#1, Categorie#78
* Article#2, Categorie#78

#### avec informations suppl√©mentaires

Si on estime que l'on a une date d'affectation √† la cat√©gorie

exemple :
Article#1 : Categorie#45 (1985-05-21), Categorie#78 (2022-01-24)
Article#2 : Categorie#78 (1234-12-31)

Article_Categorie :

* Article#1, Categorie#45, 1985-05-21
* Article#1, Categorie#78, 2022-01-24
* Article#2, Categorie#78, 1234-12-31

## Mod√®le Physique de Donn√©e

La seule chose qui se passe dans ce sch√©ma c'est les noms d√©finitifs de tout.
Les ID apparaissent ici.

Le type des attibuts est d√©finit ici aussi.

On d√©finit aussi le moteur de base de donn√©e.
